<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="google-site-verification" content="MpEos65SsDadcqkPQvdQGXTTDcUJqQhcC2OpPRp4quU">














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="vscode,plugin,">










<meta name="description" content="æœ¬æ–‡çš„ç›®çš„æ˜¯æ€»ç»“vscodeçš„æ’ä»¶å¼€å‘å…¥é—¨ï¼Œä¹‹å‰ä¸€ç›´ä»¥ä¸ºå¼€å‘æ’ä»¶æ˜¯ä¸€ä»¶å¾ˆéš¾çš„äº‹æƒ…ï¼Œåæ¥å·¥ä½œä¸Šéœ€è¦æä¸€ä¸ªæ•ˆç‡å°å·¥å…·ï¼Œå°±è¯•ç€æ‰¾äº†äº›èµ„æ–™æ¥å…¥é—¨ï¼Œå‘ç°å…¶å®å°±å…¥é—¨å’Œå¼€å‘ä¸€äº›ç®€å•åŠŸèƒ½çš„æ’ä»¶æ¥è¯´éš¾åº¦è¿˜æ˜¯å¾ˆä½çš„ã€‚å› ä¸ºvscodeæœ¬èº«æ˜¯åŸºäºelectronå¼€å‘çš„ï¼Œæ‰€ä»¥æ€»ä½“æ¥è¯´å¼€å‘æ’ä»¶å°±æ˜¯åœ¨å†™nodeä»£ç ï¼Œé¢å¤–å†åŠ ä¸€äº›ç¼–è¾‘å™¨apiï¼Œæ’ä»¶å‘å¸ƒçš„è¿‡ç¨‹å’ŒnpmåŒ…çš„å‘å¸ƒå¾ˆç±»ä¼¼ã€‚vscodeå®˜æ–¹æä¾›çš„è„šæ‰‹æ¶è¿˜å¸®å¿™åŠ ä¸Šäº†è°ƒè¯•é…ç½®">
<meta name="keywords" content="vscode,plugin">
<meta property="og:type" content="article">
<meta property="og:title" content="vscodeæ’ä»¶å¼€å‘">
<meta property="og:url" content="https://hellogithub2014.github.io/2019/06/09/vscode-plugin-development/index.html">
<meta property="og:site_name" content="åå¹´ä¸€åˆ»">
<meta property="og:description" content="æœ¬æ–‡çš„ç›®çš„æ˜¯æ€»ç»“vscodeçš„æ’ä»¶å¼€å‘å…¥é—¨ï¼Œä¹‹å‰ä¸€ç›´ä»¥ä¸ºå¼€å‘æ’ä»¶æ˜¯ä¸€ä»¶å¾ˆéš¾çš„äº‹æƒ…ï¼Œåæ¥å·¥ä½œä¸Šéœ€è¦æä¸€ä¸ªæ•ˆç‡å°å·¥å…·ï¼Œå°±è¯•ç€æ‰¾äº†äº›èµ„æ–™æ¥å…¥é—¨ï¼Œå‘ç°å…¶å®å°±å…¥é—¨å’Œå¼€å‘ä¸€äº›ç®€å•åŠŸèƒ½çš„æ’ä»¶æ¥è¯´éš¾åº¦è¿˜æ˜¯å¾ˆä½çš„ã€‚å› ä¸ºvscodeæœ¬èº«æ˜¯åŸºäºelectronå¼€å‘çš„ï¼Œæ‰€ä»¥æ€»ä½“æ¥è¯´å¼€å‘æ’ä»¶å°±æ˜¯åœ¨å†™nodeä»£ç ï¼Œé¢å¤–å†åŠ ä¸€äº›ç¼–è¾‘å™¨apiï¼Œæ’ä»¶å‘å¸ƒçš„è¿‡ç¨‹å’ŒnpmåŒ…çš„å‘å¸ƒå¾ˆç±»ä¼¼ã€‚vscodeå®˜æ–¹æä¾›çš„è„šæ‰‹æ¶è¿˜å¸®å¿™åŠ ä¸Šäº†è°ƒè¯•é…ç½®">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/helloworld-command.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/helloworld-message.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/debug.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/menu_cmd.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/install-from-vsix.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/snippets.gif">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/message-interactive.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/input-box.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/quick-pick.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/output-channel.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/file-open-dialog.png">
<meta property="og:image" content="https://hellogithub2014.github.io/images/vscode-plugin/eslint-hover.png">
<meta property="og:updated_time" content="2019-06-15T12:48:19.963Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vscodeæ’ä»¶å¼€å‘">
<meta name="twitter:description" content="æœ¬æ–‡çš„ç›®çš„æ˜¯æ€»ç»“vscodeçš„æ’ä»¶å¼€å‘å…¥é—¨ï¼Œä¹‹å‰ä¸€ç›´ä»¥ä¸ºå¼€å‘æ’ä»¶æ˜¯ä¸€ä»¶å¾ˆéš¾çš„äº‹æƒ…ï¼Œåæ¥å·¥ä½œä¸Šéœ€è¦æä¸€ä¸ªæ•ˆç‡å°å·¥å…·ï¼Œå°±è¯•ç€æ‰¾äº†äº›èµ„æ–™æ¥å…¥é—¨ï¼Œå‘ç°å…¶å®å°±å…¥é—¨å’Œå¼€å‘ä¸€äº›ç®€å•åŠŸèƒ½çš„æ’ä»¶æ¥è¯´éš¾åº¦è¿˜æ˜¯å¾ˆä½çš„ã€‚å› ä¸ºvscodeæœ¬èº«æ˜¯åŸºäºelectronå¼€å‘çš„ï¼Œæ‰€ä»¥æ€»ä½“æ¥è¯´å¼€å‘æ’ä»¶å°±æ˜¯åœ¨å†™nodeä»£ç ï¼Œé¢å¤–å†åŠ ä¸€äº›ç¼–è¾‘å™¨apiï¼Œæ’ä»¶å‘å¸ƒçš„è¿‡ç¨‹å’ŒnpmåŒ…çš„å‘å¸ƒå¾ˆç±»ä¼¼ã€‚vscodeå®˜æ–¹æä¾›çš„è„šæ‰‹æ¶è¿˜å¸®å¿™åŠ ä¸Šäº†è°ƒè¯•é…ç½®">
<meta name="twitter:image" content="https://hellogithub2014.github.io/images/vscode-plugin/helloworld-command.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: 'Z5V8KL0XIZ',
      apiKey: '88610a56e4ab954825661f14975c6a43',
      indexName: 'hexo-blog',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://hellogithub2014.github.io/2019/06/09/vscode-plugin-development/">





  <title>vscodeæ’ä»¶å¼€å‘ | åå¹´ä¸€åˆ»</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?41d97f95198aa53fcbe7f25b20a44ee3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>





  
</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">åå¹´ä¸€åˆ»</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://hellogithub2014.github.io/2019/06/09/vscode-plugin-development/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liu Bin">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1544633647623&di=9344c3068a2e155434bd39899d7cd25d&imgtype=0&src=http%3A%2F%2Fpic65.nipic.com%2Ffile%2F20150428%2F12641788_080744824000_2.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åå¹´ä¸€åˆ»">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">vscodeæ’ä»¶å¼€å‘</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-09T22:04:31+08:00">
                2019-06-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/06/09/vscode-plugin-development/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/06/09/vscode-plugin-development/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">æœ¬æ–‡æ€»é˜…è¯»é‡
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>æ¬¡
            </span>
          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>æœ¬æ–‡çš„ç›®çš„æ˜¯æ€»ç»“<code>vscode</code>çš„æ’ä»¶å¼€å‘å…¥é—¨ï¼Œä¹‹å‰ä¸€ç›´ä»¥ä¸ºå¼€å‘æ’ä»¶æ˜¯ä¸€ä»¶å¾ˆéš¾çš„äº‹æƒ…ï¼Œåæ¥å·¥ä½œä¸Šéœ€è¦æä¸€ä¸ªæ•ˆç‡å°å·¥å…·ï¼Œå°±è¯•ç€æ‰¾äº†äº›èµ„æ–™æ¥å…¥é—¨ï¼Œå‘ç°å…¶å®å°±å…¥é—¨å’Œå¼€å‘ä¸€äº›ç®€å•åŠŸèƒ½çš„æ’ä»¶æ¥è¯´éš¾åº¦è¿˜æ˜¯å¾ˆä½çš„ã€‚å› ä¸º<code>vscode</code>æœ¬èº«æ˜¯åŸºäº<code>electron</code>å¼€å‘çš„ï¼Œæ‰€ä»¥æ€»ä½“æ¥è¯´å¼€å‘æ’ä»¶å°±æ˜¯åœ¨å†™<code>node</code>ä»£ç ï¼Œé¢å¤–å†åŠ ä¸€äº›ç¼–è¾‘å™¨<code>api</code>ï¼Œæ’ä»¶å‘å¸ƒçš„è¿‡ç¨‹å’Œ<code>npm</code>åŒ…çš„å‘å¸ƒå¾ˆç±»ä¼¼ã€‚<code>vscode</code>å®˜æ–¹æä¾›çš„è„šæ‰‹æ¶è¿˜å¸®å¿™åŠ ä¸Šäº†è°ƒè¯•é…ç½®ï¼Œè°ƒè¯•éå¸¸æ–¹ä¾¿ã€‚ä¸‹é¢å°±æ¥è¯´ä¸‹å…·ä½“æ­¥éª¤ï¼Œåœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­å‚è€ƒäº†ä¸€äº›åšå®¢ï¼Œæ”¾åœ¨äº†æœ€åé¢ã€‚</p>
<h1 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h1><p>è¿™ä¸ªå¾ˆç®€å•ï¼Œæˆ‘å°±ç›´æ¥æ‹·è´è¿‡æ¥äº†ã€‚</p>
<ul>
<li><code>nodejs</code>: å»ºè®®ä½¿ç”¨ <code>LTS</code> ç‰ˆæœ¬</li>
<li><code>npm</code>: å»ºè®®æœ€æ–°ç‰ˆæœ¬</li>
<li><code>yeoman</code> : <code>npm install -g yo</code></li>
<li><code>generator-code</code> : <code>npm install -g generator-code</code></li>
</ul>
<p>å¦å¤–å°<code>TIPS</code>ï¼Œæˆ‘ä»¬å¹³æ—¶ç›´æ¥å®‰è£…çš„æ’ä»¶æ‰€åœ¨ç›®å½•æ˜¯<code>~/.vscode/extensions</code>ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹çœ‹è¿™äº›æ’ä»¶æ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p>
<h1 id="è„šæ‰‹æ¶"><a href="#è„šæ‰‹æ¶" class="headerlink" title="è„šæ‰‹æ¶"></a>è„šæ‰‹æ¶</h1><p>å®‰è£…çš„<code>yo</code>å¯ä»¥ç›´æ¥ç”Ÿæˆä¸€ä¸ª<code>Hello World</code>ç‰ˆæœ¬çš„æ’ä»¶ç›®å½•ã€‚æ‰§è¡Œ</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yo code</span><br></pre></td></tr></table></figure>
<p>å³ä¼šæç¤ºä¸€äº›é—®é¢˜ï¼ŒæŒ‰ç…§ä¸ªäººå–œå¥½å¡«å†™å³å¯ï¼Œæœ€åä¼šç”Ÿæˆæ ·æ¿ä»£ç :</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ CHANGELOG.md æ’ä»¶å˜æ›´è®°å½•</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ extension.js æ’ä»¶å…¥å£æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ jsconfig.json ç¼–è¾‘å™¨å…³äºjsçš„é…ç½®</span><br><span class="line">â”œâ”€â”€ package.json å…¨å±€é…ç½®</span><br><span class="line">â”œâ”€â”€ <span class="built_in">test</span> æµ‹è¯•ä»£ç æ–‡ä»¶å¤¹</span><br><span class="line">â”‚   â”œâ”€â”€ extension.test.js</span><br><span class="line">â”‚   â””â”€â”€ index.js</span><br><span class="line">â”œâ”€â”€ vsc-extension-quickstart.md æ–°æ‰‹ä»‹ç»</span><br><span class="line">â””â”€â”€ yarn.lock</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­çš„<code>quickstart.md</code>æ˜¯æ–°æ‰‹å¼•å¯¼ï¼Œé‡Œé¢åŒ…å«äº†å¯¹æ–‡ä»¶çš„ä½œç”¨è§£æã€å¦‚ä½•è¿è¡Œæ’ä»¶ã€æµ‹è¯•æ’ç­‰ç­‰ï¼Œæ¨èå»çœ‹ä¸€çœ‹ï¼Œæˆ‘ä»¬åœ¨ä¸‹é¢ä¹Ÿä¼šä»‹ç»ä¸€äº›ã€‚é™¤æ­¤ä¹‹å¤–åœ¨<code>package.json</code>é‡Œä¹ŸåŒ…å«äº†å¾ˆå¤šéå¸¸é‡è¦çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  "name": "hello-world", // æ’ä»¶å</span><br><span class="line">  "displayName": "hello-world",</span><br><span class="line">  "description": "hello world", // æ’ä»¶æè¿°</span><br><span class="line">  "version": "0.0.1",</span><br><span class="line">  "engines": &#123;</span><br><span class="line">    "vscode": "^1.35.0" // è¿è¡Œæ’ä»¶éœ€è¦vscodeæœ€ä½ç‰ˆæœ¬</span><br><span class="line">  &#125;,</span><br><span class="line">  "categories": ["Other"],</span><br><span class="line">  "activationEvents": ["onCommand:extension.helloWorld"], // å¦‚ä½•æ¿€æ´»æ’ä»¶:åœ¨å‘½ä»¤é¢æ¿(Command+Shift+PåŠèµ·)è¾“å…¥helloWorld. æ³¨æ„commandåéœ€è¦åœ¨contributes.commandsä¸­æœ‰é…ç½®</span><br><span class="line">  "main": "./extension.js", // æ’ä»¶å…¥å£</span><br><span class="line">  "contributes": &#123;</span><br><span class="line">    "commands": [</span><br><span class="line">      // æ­¤æ•°ç»„è¡¨ç¤ºæ’ä»¶æ”¯æŒçš„æ‰€æœ‰å‘½ä»¤</span><br><span class="line">      &#123;</span><br><span class="line">        "command": "extension.helloWorld", // å‘½ä»¤å¯¹åº”çš„Commandï¼Œéœ€è¦å’Œä»£ç é‡Œä¿æŒä¸€è‡´</span><br><span class="line">        "title": "Hello World" // å‘½ä»¤çš„æ˜¾ç¤ºåç§°</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  "scripts": &#123;</span><br><span class="line">    // æ­£å¸¸çš„npm script</span><br><span class="line">    "postinstall": "node ./node_modules/vscode/bin/install",</span><br><span class="line">    "test": "node ./node_modules/vscode/bin/test"</span><br><span class="line">  &#125;,</span><br><span class="line">  "devDependencies": &#123;</span><br><span class="line">    // ä¾èµ–åŒ…</span><br><span class="line">    "typescript": "^3.3.1",</span><br><span class="line">    "vscode": "^1.1.28",</span><br><span class="line">    "eslint": "^5.13.0",</span><br><span class="line">    "@types/node": "^10.12.21",</span><br><span class="line">    "@types/mocha": "^2.2.42"</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å¯åŠ¨ã€è°ƒè¯•æ’ä»¶"><a href="#å¯åŠ¨ã€è°ƒè¯•æ’ä»¶" class="headerlink" title="å¯åŠ¨ã€è°ƒè¯•æ’ä»¶"></a>å¯åŠ¨ã€è°ƒè¯•æ’ä»¶</h1><h2 id="å¯åŠ¨è¿è¡Œ"><a href="#å¯åŠ¨è¿è¡Œ" class="headerlink" title="å¯åŠ¨è¿è¡Œ"></a>å¯åŠ¨è¿è¡Œ</h2><p>è„šæ‰‹æ¶ç”Ÿæˆçš„å…¶å®å°±æ˜¯ä¸€ä¸ª<code>node</code>åº”ç”¨ï¼Œç›´æ¥æŒ‰<code>F5</code>å³å¯è¿è¡Œã€‚å¯¹é…ç½®æ„Ÿå…´è¶£çš„ä¹Ÿå¯ä»¥æŸ¥çœ‹æ ¹ç›®å½•ä¸‹çš„<code>.vscode/launch.json</code>ã€‚</p>
<p>è·‘èµ·æ¥ä»¥åé»˜è®¤ä¼šæ–°å¼€ä¸€ä¸ª<code>vscode</code>çª—å£ï¼Œç„¶åä¼šå‘ç°ä»€ä¹ˆéƒ½æ²¡æœ‰å‘ç”Ÿï¼Œè¿™æ˜¯ç”±æ’ä»¶çš„å¯åŠ¨æ–¹å¼å†³å®šçš„ï¼Œé…ç½®äº<code>package.json</code>é‡Œçš„<code>activationEvents</code>é¡¹ã€‚å¸¸ç”¨çš„æœ‰ï¼š</p>
<ul>
<li><code>onLanguage</code> åœ¨æ‰“å¼€ç‰¹å®šè¯­è¨€ç±»å‹çš„æ–‡ä»¶åæ¿€æ´»</li>
<li><code>onCommand</code> åœ¨æ‰§è¡Œç‰¹å®šå‘½ä»¤åæ¿€æ´»</li>
</ul>
<p>ç”±äºæˆ‘ä»¬çš„æ’ä»¶æ˜¯é…ç½®çš„<code>onCommand</code>å¯åŠ¨ï¼Œå¹¶ä¸”æŒ‡å®šçš„å‘½ä»¤åæ˜¯<code>Hello World</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨<strong>æ–°å¼€</strong>çš„<code>vscode</code>çª—å£ä¸­æŒ‰ä¸‹å¿«æ·é”®<code>Command+Shift+P</code>åå†æ‰¾åˆ°<code>Hello World</code>,é€‰ä¸­å¹¶æ‰§è¡Œå³å¯ã€‚</p>
<p><img src="/images/vscode-plugin/helloworld-command.png" alt="helloworld-command"></p>
<p>æœ€åé¡ºåˆ©çš„è¯ï¼Œç¼–è¾‘å™¨å³ä¸‹è§’ä¼šå¼¹å‡º<code>Hello World!</code>ã€‚</p>
<p><img src="/images/vscode-plugin/helloworld-message.png" alt="helloworld-message"></p>
<p>å¦‚æœç»†å¿ƒçš„è¯ï¼Œè¿˜ä¼šåœ¨æºçª—å£çš„æ§åˆ¶å°çš„<code>è°ƒè¯•æ§åˆ¶å°</code>tab ä¸­çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Congratulations, your extension <span class="string">"hello-world"</span> is now active!</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå°±æ˜¯ç”±æ’ä»¶çš„çœŸæ­£ä»£ç éƒ¨åˆ†è¾“å‡ºçš„äº†ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹çœ‹<code>extension.js</code>çš„å†…å®¹ï¼š</p>
<h2 id="extension-js"><a href="#extension-js" class="headerlink" title="extension.js"></a>extension.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vscodeç¼–è¾‘å™¨apiå…¥å£</span></span><br><span class="line"><span class="keyword">const</span> vscode = <span class="built_in">require</span>(<span class="string">'vscode'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•åœ¨æ’ä»¶æ¿€æ´»æ—¶æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"> * @param &#123;vscode.ExtensionContext&#125; context</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">activate</span>(<span class="params">context</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// consoleçš„å„ç§æ–¹æ³•éƒ½æ˜¯è¾“å‡ºåœ¨`è°ƒè¯•æ§åˆ¶å°`tabä¸‹</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Congratulations, your extension "hello-world" is now active!'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// registerCommandç”¨äºæ³¨å†Œå‘½ä»¤å¹¶æä¾›å…·ä½“é€»è¾‘ï¼Œå‘½ä»¤åéœ€è¦å’Œpackage.jsoné‡Œå†™çš„ä¸€è‡´ã€‚</span></span><br><span class="line">  <span class="comment">// å›è°ƒå‡½æ•°åœ¨å‘½ä»¤è¢«è§¦å‘æ—¶æ‰§è¡Œã€‚</span></span><br><span class="line">  <span class="keyword">let</span> disposable = vscode.commands.registerCommand(<span class="string">'extension.helloWorld'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åœ¨ç¼–è¾‘å™¨å³ä¸‹è§’å±•ç¤ºä¸€ä¸ªmessage box</span></span><br><span class="line">    vscode.window.showInformationMessage(<span class="string">'Hello World!'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°†registerCommandçš„è¿”å›å€¼æ”¾å…¥subscriptionså¯ä»¥è‡ªåŠ¨æ‰§è¡Œå†…å­˜å›æ”¶é€»è¾‘ã€‚</span></span><br><span class="line">  context.subscriptions.push(disposable);</span><br><span class="line">&#125;</span><br><span class="line">exports.activate = activate;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“æ’ä»¶è¢«è®¾ç½®ä¸ºæ— æ•ˆæ—¶æ‰§è¡Œæ­¤ç”Ÿå‘½å‘¨æœŸé’©å­</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deactivate</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  activate,</span><br><span class="line">  deactivate,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå°±æ˜¯æ­¤æ’ä»¶çš„å®Œæ•´é€»è¾‘äº†ï¼Œé…ç½®æ³¨é‡Šæ˜¯å¾ˆç®€å•çš„ã€‚å¯ä»¥çœ‹åˆ°ä¸»è¦å°±æ˜¯ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¦å¤–æ­é…ä¸€äº›ç¼–è¾‘å™¨<code>api</code>å°±å®Œæˆäº†ã€‚</p>
<h2 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h2><p>è„šæ‰‹æ¶å·²ç»è´´å¿ƒçš„å¸®æˆ‘ä»¬åŠ äº†è°ƒè¯•é…ç½®ï¼Œæˆ‘ä»¬åªç”¨æ·»åŠ æ–­ç‚¹å³å¯ï¼š</p>
<p><img src="/images/vscode-plugin/debug.png" alt="debug"></p>
<h1 id="Command-é…ç½®"><a href="#Command-é…ç½®" class="headerlink" title="Command é…ç½®"></a>Command é…ç½®</h1><p>ä¸Šé¢æåˆ°äº†ç”Ÿæˆä¸€ä¸ª<code>command</code>åªéœ€è¦ 2 æ­¥ï¼Œå…ˆæ˜¯åˆ©ç”¨<code>vscode.commands.registerCommand</code>æ³¨å†Œä¸€ä¸ªï¼Œç„¶åå†åˆ°<code>package.json</code>é‡Œçš„<code>contributes.commands</code>ä¸­é…ç½®å³å¯ã€‚å›´ç»•<code>command</code>è¿˜å¯ä»¥åšä¸€äº›å…¶ä»–äº‹æƒ…ï¼Œæœ€å¸¸è§çš„å°±æ˜¯é…ç½®å³é”®èœå•å’Œå¿«æ·é”®ã€‚</p>
<h2 id="å³é”®èœå•"><a href="#å³é”®èœå•" class="headerlink" title="å³é”®èœå•"></a>å³é”®èœå•</h2><p>è¡¨ç¤ºå³é”®çš„èœå•é‡Œå‡ºç°æŒ‡å®š<code>command</code>ï¼Œé…ç½®æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"contributes"</span>:&#123;</span><br><span class="line">  <span class="string">"menus"</span>: &#123;</span><br><span class="line">    <span class="string">"editor/context"</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">"when"</span>: <span class="string">"editorHasSelection &amp;&amp; resourceFilename =~ /.js|.vue|.ts/"</span>, <span class="comment">// å‡ºç°æ—¶æœºï¼Œå½“ç¼–è¾‘å™¨ä¸­æœ‰é€‰ä¸­æ–‡æœ¬åŒæ—¶æ–‡ä»¶ååç¼€æ˜¯js/vue/ts</span></span><br><span class="line">        <span class="string">"command"</span>: <span class="string">"extension.starling_textSearch"</span>, <span class="comment">// éœ€è¦åœ¨`contributes.commands`å­˜åœ¨æ­¤å‘½ä»¤</span></span><br><span class="line">        <span class="string">"group"</span>: <span class="string">"6_Starling"</span> <span class="comment">// å‘½ä»¤æ‰€åœ¨çš„ç»„ï¼Œå³é”®èœå•å¯ä»¥åˆ†ç»„ï¼Œç»„ä¸ç»„ä¹‹é—´å­˜åœ¨åˆ†éš”çº¿</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/images/vscode-plugin/menu_cmd.png" alt="å³é”®èœå•"></p>
<h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><p>æœ‰äº†å¿«æ·é”®åï¼Œå°±ä¸ç”¨æ¯æ¬¡åœ¨å‘½ä»¤é¢æ¿é‡ŒæŸ¥æ‰¾å¹¶è¿è¡Œå‘½ä»¤äº†ï¼ŒåŒæ ·æ˜¯åœ¨<code>package.json</code>ä¸­é…ç½®ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"contributes"</span>: &#123;</span><br><span class="line">  <span class="string">"keybindings"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"command"</span>: <span class="string">"extension.starling_textSearch"</span>,</span><br><span class="line">      <span class="string">"key"</span>: <span class="string">"ctrl+f11"</span>, <span class="comment">// åœ¨Windowsä¸Šçš„å¿«æ·é”®</span></span><br><span class="line">      <span class="string">"mac"</span>: <span class="string">"cmd+f11"</span>, <span class="comment">// åœ¨macä¸Šçš„å¿«æ·é”®</span></span><br><span class="line">      <span class="string">"when"</span>: <span class="string">"editorTextFocus"</span> <span class="comment">// å‡ºç°æ—¶æœºï¼Œ å½“ç¼–è¾‘å™¨ç„¦ç‚¹åœ¨æŸä¸ªæ–‡æœ¬ä¸­</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="å‘å¸ƒ"><a href="#å‘å¸ƒ" class="headerlink" title="å‘å¸ƒ"></a>å‘å¸ƒ</h1><p>ä¸»è¦å‚è€ƒçš„æ˜¯<a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
<p>é¦–å…ˆéœ€è¦å®‰è£…<code>vsce</code>å·¥å…·ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g vsce</span><br></pre></td></tr></table></figure>
<h2 id="æœ¬åœ°æ‰“åŒ…"><a href="#æœ¬åœ°æ‰“åŒ…" class="headerlink" title="æœ¬åœ°æ‰“åŒ…"></a>æœ¬åœ°æ‰“åŒ…</h2><p>å°†æ’ä»¶æ‰“åŒ…æˆ<code>.vsix</code>æ–‡ä»¶ã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vsce package</span><br></pre></td></tr></table></figure>
<p>ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ<code>hello-world-0.0.1.vsix</code>ï¼Œç„¶ååœ¨ç¼–è¾‘å™¨çš„æ’ä»¶é¢æ¿é€‰æ‹©<code>ä»VSIXå®‰è£…</code>å³å¯ï¼š</p>
<p><img src="/images/vscode-plugin/install-from-vsix.png" alt="install-from-vsix"></p>
<h2 id="å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº"><a href="#å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº" class="headerlink" title="å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº"></a>å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº</h2><ol>
<li><p>éœ€è¦è·å–ä¸€ä¸ª<code>token</code>ï¼Œå‚è€ƒ<a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
</li>
<li><p>åˆ©ç”¨<code>token</code>åˆ›å»ºä¸€ä¸ª<code>publisher</code>ï¼Œè¿™æ˜¯åœ¨æ’ä»¶å¸‚åœºçš„ç”¨æˆ·</p>
</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vsce create-publisher (publisher name)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>æœ¬åœ°ç™»å½•æ­¤ç”¨æˆ·</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vsce login (publisher name)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>å‘å¸ƒæ’ä»¶</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vsce publish</span><br></pre></td></tr></table></figure>
<p>é¡ºåˆ©çš„è¯åœ¨æ§åˆ¶å°ä¼šæç¤ºå‘å¸ƒæˆåŠŸï¼Œç„¶åè¿‡å‡ åˆ†é’Ÿå°±å¯ä»¥åœ¨æ’ä»¶å¸‚åœºæœåˆ°è‡ªå·±çš„æ’ä»¶å•¦ï¼ğŸ˜„</p>
<h2 id="ç‰ˆæœ¬å‡çº§"><a href="#ç‰ˆæœ¬å‡çº§" class="headerlink" title="ç‰ˆæœ¬å‡çº§"></a>ç‰ˆæœ¬å‡çº§</h2><p>å½“æ’ä»¶å†…å®¹å‘ç”Ÿå˜æ›´æ—¶ï¼Œé‡æ–°å‘å¸ƒæ—¶æœ€å¥½æ›´æ–°ç‰ˆæœ¬å·ï¼Œ<code>vsce</code>å¯ä»¥éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬æŒ‡å®šå‡çº§å¤§(<code>major</code>)/å°(<code>minor</code>)/è¡¥ä¸(<code>patch</code>)ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šç‰ˆæœ¬å·ã€‚ä¾‹å¦‚åªå‡çº§å°ç‰ˆæœ¬ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vsce publish minor</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæ’ä»¶ä»£ç åœ¨<code>gitlab</code>ä¸Šï¼Œå› ä¸ºä»“åº“åœ¨å†…ç½‘ï¼Œéœ€è¦äº‹å…ˆå°†<code>README</code>é‡Œçš„å›¾ç‰‡æ›¿æ¢ä¸ºå…¬ç½‘<code>cdn</code>ä¸Šçš„è·¯å¾„ã€‚</p>
<h1 id="snippets"><a href="#snippets" class="headerlink" title="snippets"></a>snippets</h1><p><code>snippets</code>æ˜¯ä»£ç ç‰‡æ®µï¼Œå¯ä»¥ç†è§£ä¸ºä»£ç å¿«æ·é”®ï¼Œåœ¨è¾“å…¥å¾ˆå°‘é‡è§¦å‘ä»£ç åå³å¯è”æƒ³å‡ºä¸€å¤§å¨å…³è”ä»£ç ï¼Œéå¸¸æ–¹ä¾¿ã€‚å¯¹äº<code>js</code>ã€<code>ts</code>ã€<code>vue</code>éƒ½å¯ä»¥åœ¨æ’ä»¶å¸‚åœºæ‰¾åˆ°éå¸¸å¤šçš„<code>snippets</code>æ’ä»¶ã€‚</p>
<p>å¼€å‘<code>snippets</code>åªç”¨ä¸¤æ­¥ï¼š</p>
<ol>
<li>ç¼–å†™<code>snippets</code>æ˜ å°„æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ª<code>json</code>ï¼Œä¾‹å¦‚<code>javascript.json</code>ï¼š</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"this$t"</span>: &#123;</span><br><span class="line">    "prefix": "tt'", // è§¦å‘ä»£ç </span><br><span class="line">    "body": [</span><br><span class="line">      // è”æƒ³å‡ºæ¥çš„å…³è”ä»£ç </span><br><span class="line">      "this.\\$t('$&#123;1:key&#125;')" // $&#123;1: key&#125; æ˜¯å ä½ç¬¦ï¼Œè”æƒ³å‡ºæ¥åä¼šè‡ªåŠ¨èšç„¦åœ¨è¿™é‡Œ</span><br><span class="line">    ],</span><br><span class="line">    "description": "this.$t" // snippetsæè¿°ï¼Œå½“æœ‰å¤šä¸ªåŒ¹é…çš„ä»£ç ç‰‡æ®µæ—¶ï¼Œå¯ä»¥ç”¨æ¥è¯†åˆ«</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>åœ¨<code>package.json</code>ä¸­é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"contributes"</span>: &#123;</span><br><span class="line">  <span class="string">"snippets"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">"language"</span>: <span class="string">"javascript"</span>, <span class="comment">// ä»£ç ç‰‡æ®µèµ·ä½œç”¨çš„è¯­è¨€ç±»å‹</span></span><br><span class="line">      <span class="string">"path"</span>: <span class="string">"./src/snippets/javascript.json"</span> <span class="comment">// å¯¹åº”çš„æ˜ å°„æ–‡ä»¶</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€åå°±å¯ä»¥åœ¨ç¼–è¾‘å™¨çœ‹åˆ°æ•ˆæœäº†ï¼š</p>
<p><img src="/images/vscode-plugin/snippets.gif" alt="snippets"></p>
<p>æ›´å¤šç»†èŠ‚å‚è€ƒ<a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-syntax" target="_blank" rel="noopener">snippets-syntax</a></p>
<h1 id="æ’ä»¶é»˜è®¤é…ç½®"><a href="#æ’ä»¶é»˜è®¤é…ç½®" class="headerlink" title="æ’ä»¶é»˜è®¤é…ç½®"></a>æ’ä»¶é»˜è®¤é…ç½®</h1><p>å¾ˆå¤šæ’ä»¶æ˜¯éœ€è¦ä¸€äº›é¢å¤–é…ç½®æ‰èƒ½å·¥ä½œçš„ï¼Œè®¾ç½®é»˜è®¤é…ç½®åŒæ ·åœ¨<code>package.json</code>é‡Œï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">"contributes": &#123;</span><br><span class="line">  "configuration": &#123; // é»˜è®¤é…ç½®</span><br><span class="line">    "type": "object",</span><br><span class="line">    "title": "",</span><br><span class="line">    "required": [</span><br><span class="line">      <span class="string">"sid"</span></span><br><span class="line">    ],</span><br><span class="line">    "properties": &#123;</span><br><span class="line">      "includes": &#123;</span><br><span class="line">        "type": "Array",</span><br><span class="line">        "default": [</span><br><span class="line">          <span class="string">"json"</span></span><br><span class="line">        ],</span><br><span class="line">        "description": "æ–‡ä»¶ç±»å‹è¿‡æ»¤å™¨"</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤é…ç½®æ˜¯<code>json schema</code>æ ¼å¼ï¼Œåœ¨è¦†ç›–é»˜è®¤é…ç½®æ—¶å¦‚æœæ ¡éªŒå‡ºé”™ä¼šæœ‰æç¤ºã€‚</p>
<p>æ’ä»¶ä¸­ä½¿ç”¨<code>getConfiguration</code>æ¥è¯»å–é…ç½®ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getConfig</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> config = vscode.workspace.getConfiguration();</span><br><span class="line">  <span class="keyword">const</span> includes: string[] | <span class="literal">undefined</span> = config.get(<span class="string">'includes'</span>); <span class="comment">// è·å–æŒ‡å®šé…ç½®é¡¹</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    includes: includes || [],</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç›‘å¬é…ç½®é¡¹ä¿®æ”¹"><a href="#ç›‘å¬é…ç½®é¡¹ä¿®æ”¹" class="headerlink" title="ç›‘å¬é…ç½®é¡¹ä¿®æ”¹"></a>ç›‘å¬é…ç½®é¡¹ä¿®æ”¹</h2><p>åœ¨ç”¨æˆ·å®‰è£…äº†æ’ä»¶åï¼Œå¯èƒ½ä¼šä¿®æ”¹é…ç½®ï¼Œå¦‚ä½•å®æ—¶ç›‘å¬é…ç½®é¡¹çš„ä¿®æ”¹å‘¢ï¼Ÿ <code>vscode</code>æä¾›äº†<code>onDidChangeConfiguration</code>äº‹ä»¶ç›‘å¬ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vscode.workspace.onDidChangeConfiguration(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> configList = [<span class="string">'includes'</span>];</span><br><span class="line">  <span class="comment">// affectsConfiguration: åˆ¤æ–­æ˜¯å¦å˜æ›´äº†æŒ‡å®šé…ç½®é¡¹</span></span><br><span class="line">  <span class="keyword">const</span> affected = configList.some(<span class="function"><span class="params">item</span> =&gt;</span> event.affectsConfiguration(item));</span><br><span class="line">  <span class="keyword">if</span> (affected) &#123;</span><br><span class="line">    <span class="comment">// do some thing ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="å¸¸è§ç¼–è¾‘å™¨-api"><a href="#å¸¸è§ç¼–è¾‘å™¨-api" class="headerlink" title="å¸¸è§ç¼–è¾‘å™¨ api"></a>å¸¸è§ç¼–è¾‘å™¨ api</h1><p>æ‰€æœ‰<code>vscode</code>ç›¸å…³<code>api</code>éƒ½å¯ä»¥åœ¨<a href="https://code.visualstudio.com/api" target="_blank" rel="noopener">å®˜ç½‘æ–‡æ¡£</a>æŸ¥æ‰¾ï¼Œ<code>vscode</code>å†…éƒ¨ä¹Ÿé›†æˆäº†<code>.d.ts</code>æ–‡ä»¶ï¼Œç¼–è¾‘å™¨å†…ç›´æ¥è·³è½¬å®šä¹‰å³å¯ã€‚è¿™é‡Œåªåˆ—ä¸¾ä¸€äº›å¸¸è§çš„<code>api</code>.</p>
<h2 id="messgae"><a href="#messgae" class="headerlink" title="messgae"></a>messgae</h2><p>ç”¨äºå±•ç¤ºæç¤ºæ€§æ¶ˆæ¯ï¼Œå‡ºç°åœ¨ç¼–è¾‘å™¨å³ä¸‹è§’ï¼Œè€Œä¸æ˜¯é¡¶éƒ¨æˆ–å³ä¸Šè§’ã€‚</p>
<p>å’Œ<code>console</code>ç±»ä¼¼ï¼Œæä¾›äº†æ™®é€šæ¶ˆæ¯ã€è­¦å‘Šæ¶ˆæ¯ã€é”™è¯¯æ¶ˆæ¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vscode.window.showInformationMessage(<span class="string">'æ™®é€šæ¶ˆæ¯'</span>);</span><br><span class="line">vscode.window.showWarningMessage(<span class="string">'è­¦å‘Šæ¶ˆæ¯'</span>);</span><br><span class="line">vscode.window.showErrorMessage(<span class="string">'é”™è¯¯æ¶ˆæ¯'</span>);</span><br></pre></td></tr></table></figure>
<p>æ¶ˆæ¯ä¹Ÿæ”¯æŒäº¤äº’æŒ‰é’®ï¼Œå½“é€‰ä¸­æŒ‰é’®æ—¶è¿”å›çš„æ˜¯æŒ‰é’®æœ¬èº«ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vscode.window.showErrorMessage(<span class="string">`ä¸starlingçš„è¿œç¨‹äº¤äº’ä¾èµ–vscode-starling.sidé…ç½®é¡¹`</span>, <span class="string">'æ‰“å¼€é…ç½®é¡¹'</span>).then(<span class="function"><span class="params">selection</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (selection === <span class="string">'æ‰“å¼€é…ç½®é¡¹'</span>) &#123;</span><br><span class="line">    vscode.commands.executeCommand(<span class="string">'workbench.action.openSettings'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="/images/vscode-plugin/message-interactive.png" alt="message-interactive"></p>
<h2 id="input-box"><a href="#input-box" class="headerlink" title="input box"></a>input box</h2><p>åœ¨ç¼–è¾‘å™¨é¡¶éƒ¨å±•ç¤ºä¸€ä¸ª<code>input</code>è¾“å…¥æ¡†ï¼Œä½¿ç”¨<code>vscode.window.showInputBox</code>,ä¼šè¿”å›ä¸€ä¸ª<code>Promise</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> text: string | <span class="literal">undefined</span> = <span class="keyword">await</span> vscode.window.showInputBox(&#123;</span><br><span class="line">  <span class="string">'æœ€åä¸€æ­¥ï¼Œè¾“å…¥æ–‡æ¡ˆ'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><img src="/images/vscode-plugin/input-box.png" alt="input box"></p>
<h2 id="quick-pick"><a href="#quick-pick" class="headerlink" title="quick pick"></a>quick pick</h2><p>ç”¨äºä»ä¸€ç»„é€‰é¡¹ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œç±»ä¼¼äº<code>select</code>ç»„ä»¶ã€‚ä½¿ç”¨<code>vscode.window.showQuickPick</code>ï¼ŒåŒæ ·è¿”å›ä¸€ä¸ª<code>Promise</code>ï¼Œ<code>resolve</code>æ—¶å¾—åˆ°è¢«é€‰ä¸­çš„é€‰é¡¹æˆ–<code>undefined</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lang: string | <span class="literal">undefined</span> = <span class="keyword">await</span> vscode.window.showQuickPick([<span class="string">'en'</span>, <span class="string">'zh'</span>, <span class="string">'ja'</span>], &#123;</span><br><span class="line">  placeHolder: <span class="string">'ç¬¬ä¸€æ­¥ï¼šé€‰æ‹©è¯­è¨€'</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="/images/vscode-plugin/quick-pick.png" alt="quick pick"></p>
<p>æ¯ä¸ªé€‰é¡¹ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ç±»å‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> option: <span class="built_in">Object</span> | <span class="literal">undefined</span> = <span class="keyword">await</span> vscode.window.showQuickPick([&#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'a'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'b'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">'c'</span> &#125;], &#123;</span><br><span class="line">  placeHolder: <span class="string">'select an option'</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="output-channel"><a href="#output-channel" class="headerlink" title="output channel"></a>output channel</h2><p>åœ¨åˆ©ç”¨<code>Control + ~</code>æ‰“å¼€æ§åˆ¶å°åï¼Œä¼šå‡ºç° 4 ä¸ª<code>tab</code>ï¼Œä»å·¦åˆ°å³ä¾æ¬¡æ˜¯<code>é—®é¢˜</code>ã€<code>è¾“å‡º</code>ã€<code>è°ƒè¯•æ§åˆ¶å°</code>ã€<code>ç»ˆç«¯</code>ã€‚<code>output channel</code>å°±æ˜¯ç”¨äºæ§åˆ¶<code>è¾“å‡º</code> <code>tab</code>çš„å†…å®¹ï¼Œå¯ä»¥å¾€å…¶ä¸­è¿½åŠ æ–‡æœ¬ã€è¿½åŠ è¡Œã€æ¸…ç©ºï¼Œå¯ä»¥å°†å…¶çœ‹æˆä¸€ä¸ªç®€å•çš„æ–‡ä»¶ã€‚<code>output channel</code>é€‚ç”¨äºä¸€æ¬¡å±•ç¤ºå¤§é‡ä¿¡æ¯.</p>
<p>ä½¿ç”¨<code>vscode.window.createOutputChannel</code>åˆ›å»º<code>output channel</code>å®ä¾‹ï¼Œç„¶åå°±å¯ä»¥æ“ä½œå„ç§<code>api</code>äº†ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> opc = vscode.window.createOutputChannel(<span class="string">'textSearch'</span>); <span class="comment">// å¯ä»¥æœ‰å¤šä¸ªOutputChannelå…±å­˜ï¼Œä½¿ç”¨å‚æ•°ååŒºåˆ†</span></span><br><span class="line"></span><br><span class="line">opc.clear(); <span class="comment">// æ¸…ç©º</span></span><br><span class="line">opc.appendLine(<span class="string">'æ°´ç”µè´¹'</span>); <span class="comment">// è¿½åŠ ä¸€è¡Œ</span></span><br><span class="line">opc.show(); <span class="comment">// æ‰“å¼€æ§åˆ¶å°å¹¶åˆ‡æ¢åˆ°OutputChannel tab</span></span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªä¾‹å­ï¼š</p>
<p><img src="/images/vscode-plugin/output-channel.png" alt="output-channel"></p>
<h2 id="file-selector"><a href="#file-selector" class="headerlink" title="file selector"></a>file selector</h2><p>æœ‰äº›æ—¶å€™éœ€è¦æ“ä½œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œä¾‹å¦‚é€‰æ‹©æŸä¸ªæ–‡ä»¶ã€å°†æ–‡ä»¶ä¿å­˜åˆ°æŒ‡å®šä½ç½®ç­‰ã€‚</p>
<h3 id="ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®"><a href="#ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®" class="headerlink" title="ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®"></a>ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®</h3><p>ä½¿ç”¨<code>showSaveDialog</code>ï¼Œå®ƒä¼šæ‰“å¼€æ–‡ä»¶é€‰æ‹©å™¨å¼¹çª—ï¼Œé€‰æ‹©äº†ä¿å­˜è·¯å¾„åç‚¹å‡»ç¡®å®šä¼šè¿”å›é€‰ä¸­çš„è·¯å¾„ï¼Œå¦‚æœç‚¹å‡»å–æ¶ˆä¼šè¿”å›<code>undefined</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®©ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©æ–‡ä»¶çš„çš„å­˜å‚¨è·¯å¾„</span></span><br><span class="line"><span class="keyword">const</span> uri = <span class="keyword">await</span> vscode.window.showSaveDialog(&#123;</span><br><span class="line">  filters: &#123;</span><br><span class="line">    zip: [<span class="string">'zip'</span>], <span class="comment">// æ–‡ä»¶ç±»å‹è¿‡æ»¤</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">if</span> (!uri) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">writeFile(uri.fsPath); <span class="comment">// å†™å…¥æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>
<h3 id="æ–‡ä»¶é€‰æ‹©"><a href="#æ–‡ä»¶é€‰æ‹©" class="headerlink" title="æ–‡ä»¶é€‰æ‹©"></a>æ–‡ä»¶é€‰æ‹©</h3><p><code>showOpenDialog</code>åŒæ ·ä¼šæ‰“å¼€æ–‡ä»¶é€‰æ‹©å™¨å¼¹çª—ï¼Œä¸è¿‡è¿™æ¬¡æ˜¯ç”¨äºé€‰æ‹©æ–‡ä»¶,å¦‚æœæœ‰é€‰æ‹©æ–‡ä»¶ä¼šè¿”å›é€‰ä¸­çš„æ–‡ä»¶è·¯å¾„ï¼Œåä¹‹è¿”å›<code>undefined</code>ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// showOpenDialogè¿”å›çš„æ˜¯æ–‡ä»¶è·¯å¾„æ•°ç»„</span></span><br><span class="line"><span class="keyword">const</span> uris = <span class="keyword">await</span> <span class="built_in">window</span>.showOpenDialog(&#123;</span><br><span class="line">  canSelectFolders: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å¯ä»¥é€‰æ‹©æ–‡ä»¶å¤¹</span></span><br><span class="line">  canSelectMany: <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å¯ä»¥é€‰æ‹©å¤šä¸ªæ–‡ä»¶</span></span><br><span class="line">  filters: &#123;</span><br><span class="line">    json: [<span class="string">'json'</span>], <span class="comment">// æ–‡ä»¶ç±»å‹è¿‡æ»¤</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!uris || !uris.length) &#123;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">handleFiles(uris);</span><br></pre></td></tr></table></figure>
<p><img src="/images/vscode-plugin/file-open-dialog.png" alt="file-open-dialog"></p>
<h2 id="hover"><a href="#hover" class="headerlink" title="hover"></a>hover</h2><p>æœ‰æ—¶å€™éœ€è¦åœ¨<code>hover</code>åˆ°æ–‡æœ¬ä¸Šæ—¶å±•ç¤ºä¸€äº›æç¤ºä¿¡æ¯ï¼Œä¾‹å¦‚<code>eslint</code>æ’ä»¶åœ¨<code>hover</code>åˆ°ä¸åˆè§„çš„ä»£ç ä¸Šæ—¶ä¼šå±•ç¤ºå…·ä½“è¿åäº†å“ªäº›è§„åˆ™ï¼š</p>
<p><img src="/images/vscode-plugin/eslint-hover.png" alt="eslint-hover"></p>
<p>å¤„ç†<code>hover</code>éœ€è¦æ³¨å†Œä¸€ä¸ª<code>hover</code>å¤„ç†å™¨ï¼Œ<code>vscode</code>ä¼šåœ¨<code>hover</code>åˆ°æ–‡æœ¬ä¸Šæ—¶è‡ªåŠ¨è°ƒç”¨å¤„ç†å™¨ï¼ŒåŒæ—¶ä¼ é€’<code>hover</code>ç›¸å…³çš„ä¿¡æ¯ã€‚ä¾‹å¦‚ä¸€ä¸ªå±•ç¤ºå…‰æ ‡æ‰€åœ¨çš„å•è¯<code>hover</code>å¤„ç†å™¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * document: æ‰“å¼€çš„æ–‡æœ¬</span></span><br><span class="line"><span class="comment"> * positionï¼š hoverçš„ä½ç½®</span></span><br><span class="line"><span class="comment"> * tokenï¼š ç”¨äºå–æ¶ˆhoverå¤„ç†å™¨ä½œç”¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">hover</span>(<span class="params">document: vscode.TextDocument, position: vscode.Position, token: vscode.CancellationToken</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> line = <span class="built_in">document</span>.lineAt(position).text; <span class="comment">// å…‰æ ‡æ‰€åœ¨çš„è¡Œ</span></span><br><span class="line">  <span class="comment">// getWordRangeAtPositionè·å–å…‰æ ‡æ‰€åœ¨å•è¯çš„è¡Œåˆ—å·èŒƒå›´ï¼›getTextè·å–æŒ‡å®šèŒƒå›´çš„æ–‡æœ¬</span></span><br><span class="line">  <span class="keyword">const</span> positionWord = <span class="built_in">document</span>.getText(<span class="built_in">document</span>.getWordRangeAtPosition(position));</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å•è¯æ˜¯ï¼š'</span>, positionWord);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// registerHoverProviderçš„ç¬¬ä¸€ä¸ªå‚æ•°æ•°ç»„è¡¨æ˜æ­¤å¤„ç†å™¨çš„ä½œç”¨èŒƒå›´</span></span><br><span class="line"><span class="keyword">const</span> hoverDisposable = vscode.languages.registerHoverProvider([<span class="string">'javascript'</span>, <span class="string">'vue'</span>], &#123;</span><br><span class="line">  provideHover: hover,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">context.subscriptions.push(hoverDisposable);</span><br></pre></td></tr></table></figure>
<h2 id="selection"><a href="#selection" class="headerlink" title="selection"></a>selection</h2><p>ä¸<code>hover</code>ç±»ä¼¼ï¼Œæœ‰æ—¶å€™éœ€è¦å¤„ç†é€‰ä¸­çš„æ–‡æœ¬ï¼Œè·å–å®ƒæ˜¯é€šè¿‡<code>vscode.TextEditor</code>å®ä¾‹ä¸Šçš„å±æ€§ï¼Œæœ‰ä¸¤ä¸ªç›¸å…³å±æ€§</p>
<ul>
<li><code>selections</code>ï¼šæ‰€æœ‰è¢«é€‰ä¸­çš„æ–‡æœ¬ä¿¡æ¯</li>
<li><code>selection</code>ï¼šç¬¬ä¸€ä¸ªè¢«é€‰ä¸­çš„æ–‡æœ¬ä¿¡æ¯ï¼Œ ç­‰åŒäº<code>selections[0]</code></li>
</ul>
<p>è·å–<code>TextEditor</code>çš„ä¸€ä¸ªæ–¹æ³•æ˜¯é€šè¿‡æ³¨å†Œ<code>textEditorCommand</code>,ä¼šåœ¨å›è°ƒå‡½æ•°é‡Œæä¾›<code>TextEditor</code>å®ä¾‹ï¼Œä¾‹å¦‚å±•ç¤ºé€‰ä¸­æ–‡æœ¬ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> command = vscode.commands.registerTextEditorCommand(<span class="string">'extension.selection'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">textEditor, edit</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> text = textEditor.document.getText(textEditor.selection);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'é€‰ä¸­çš„æ–‡æœ¬æ˜¯:'</span>, text);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">context.subscriptions.push(command);</span><br></pre></td></tr></table></figure>
<h2 id="FileSystemWatcher"><a href="#FileSystemWatcher" class="headerlink" title="FileSystemWatcher"></a>FileSystemWatcher</h2><p>ç”¨äºç›‘å¬æ–‡ä»¶æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ï¼Œå¯ä»¥ç›‘å¬åˆ°æ–°å»ºã€æ›´æ–°ã€åˆ é™¤è¿™ 3 ç§äº‹ä»¶,ä¹Ÿå¯ä»¥é€‰æ‹©å¿½ç•¥å…¶ä¸­æŸä¸ªç±»å‹äº‹ä»¶ã€‚åˆ›å»º<code>watcher</code>æ˜¯åˆ©ç”¨<code>vscode.workspace.createFileSystemWatcher</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFileSystemWatcher</span>(<span class="params">globPattern: GlobPattern, ignoreCreateEvents?: boolean, ignoreChangeEvents?: boolean, ignoreDeleteEvents?: boolean</span>): <span class="title">FileSystemWatcher</span>;</span></span><br></pre></td></tr></table></figure>
<p>ä¾‹å¦‚ç›‘å¬æ‰€æœ‰<code>js</code>æ–‡ä»¶çš„å˜åŠ¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> watcher = vscode.workspace.createFileSystemWatcher(<span class="string">'*.js'</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">false</span>);</span><br><span class="line">watcher.onDidChange(<span class="function"><span class="params">e</span> =&gt;</span> &#123; <span class="comment">// æ–‡ä»¶å‘ç”Ÿæ›´æ–°</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'js changed,'</span> e.fsPath);</span><br><span class="line">&#125;);</span><br><span class="line">watcher.onDidCreate(<span class="function"><span class="params">e</span> =&gt;</span> &#123; <span class="comment">// æ–°å»ºäº†jsæ–‡ä»¶</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'js created,'</span> e.fsPath);</span><br><span class="line">&#125;);</span><br><span class="line">watcher.onDidDelete(<span class="function"><span class="params">e</span> =&gt;</span> &#123; <span class="comment">// åˆ é™¤äº†jsæ–‡ä»¶</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'js deleted,'</span> e.fsPath);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><ol>
<li><a href="https://juejin.im/entry/5b50509d5188251967307780" target="_blank" rel="noopener">VSCode æ’ä»¶å¼€å‘æ€¥é€Ÿå…¥é—¨</a></li>
<li><a href="https://www.cnblogs.com/liuxianan/p/vscode-plugin-overview.html" target="_blank" rel="noopener">VSCode æ’ä»¶å¼€å‘å…¨æ”»ç•¥ç³»åˆ—</a></li>
<li><a href="https://code.visualstudio.com/api" target="_blank" rel="noopener">vscode api</a></li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/vscode/" rel="tag"># vscode</a>
          
            <a href="/tags/plugin/" rel="tag"># plugin</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/06/06/gitlab-webhook/" rel="next" title="å®ç°gitlab PRè‡ªåŠ¨æµç¨‹å¤„ç†æœºå™¨äºº">
                <i class="fa fa-chevron-left"></i> å®ç°gitlab PRè‡ªåŠ¨æµç¨‹å¤„ç†æœºå™¨äºº
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/06/13/the-modularity-of-complicated-form/" rel="prev" title="å¤æ‚è¡¨å•çš„æ¨¡å—åŒ–å¤„ç†">
                å¤æ‚è¡¨å•çš„æ¨¡å—åŒ–å¤„ç† <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
<div class="addthis_inline_share_toolbox">
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5c2f329e843996fd" async="async"></script>
</div>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1544633647623&di=9344c3068a2e155434bd39899d7cd25d&imgtype=0&src=http%3A%2F%2Fpic65.nipic.com%2Ffile%2F20150428%2F12641788_080744824000_2.jpg" alt="Liu Bin">
            
              <p class="site-author-name" itemprop="name">Liu Bin</p>
              <p class="site-description motion-element" itemprop="description">ç ç•œ</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">83</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">65</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ç¯å¢ƒå‡†å¤‡"><span class="nav-number">1.</span> <span class="nav-text">ç¯å¢ƒå‡†å¤‡</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#è„šæ‰‹æ¶"><span class="nav-number">2.</span> <span class="nav-text">è„šæ‰‹æ¶</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å¯åŠ¨ã€è°ƒè¯•æ’ä»¶"><span class="nav-number">3.</span> <span class="nav-text">å¯åŠ¨ã€è°ƒè¯•æ’ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å¯åŠ¨è¿è¡Œ"><span class="nav-number">3.1.</span> <span class="nav-text">å¯åŠ¨è¿è¡Œ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#extension-js"><span class="nav-number">3.2.</span> <span class="nav-text">extension.js</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#è°ƒè¯•"><span class="nav-number">3.3.</span> <span class="nav-text">è°ƒè¯•</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Command-é…ç½®"><span class="nav-number">4.</span> <span class="nav-text">Command é…ç½®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#å³é”®èœå•"><span class="nav-number">4.1.</span> <span class="nav-text">å³é”®èœå•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¿«æ·é”®"><span class="nav-number">4.2.</span> <span class="nav-text">å¿«æ·é”®</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å‘å¸ƒ"><span class="nav-number">5.</span> <span class="nav-text">å‘å¸ƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#æœ¬åœ°æ‰“åŒ…"><span class="nav-number">5.1.</span> <span class="nav-text">æœ¬åœ°æ‰“åŒ…</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº"><span class="nav-number">5.2.</span> <span class="nav-text">å‘å¸ƒåˆ°æ’ä»¶å¸‚åœº</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ç‰ˆæœ¬å‡çº§"><span class="nav-number">5.3.</span> <span class="nav-text">ç‰ˆæœ¬å‡çº§</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#snippets"><span class="nav-number">6.</span> <span class="nav-text">snippets</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#æ’ä»¶é»˜è®¤é…ç½®"><span class="nav-number">7.</span> <span class="nav-text">æ’ä»¶é»˜è®¤é…ç½®</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ç›‘å¬é…ç½®é¡¹ä¿®æ”¹"><span class="nav-number">7.1.</span> <span class="nav-text">ç›‘å¬é…ç½®é¡¹ä¿®æ”¹</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å¸¸è§ç¼–è¾‘å™¨-api"><span class="nav-number">8.</span> <span class="nav-text">å¸¸è§ç¼–è¾‘å™¨ api</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#messgae"><span class="nav-number">8.1.</span> <span class="nav-text">messgae</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#input-box"><span class="nav-number">8.2.</span> <span class="nav-text">input box</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#quick-pick"><span class="nav-number">8.3.</span> <span class="nav-text">quick pick</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#output-channel"><span class="nav-number">8.4.</span> <span class="nav-text">output channel</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#file-selector"><span class="nav-number">8.5.</span> <span class="nav-text">file selector</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®"><span class="nav-number">8.5.1.</span> <span class="nav-text">ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šä½ç½®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–‡ä»¶é€‰æ‹©"><span class="nav-number">8.5.2.</span> <span class="nav-text">æ–‡ä»¶é€‰æ‹©</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hover"><span class="nav-number">8.6.</span> <span class="nav-text">hover</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#selection"><span class="nav-number">8.7.</span> <span class="nav-text">selection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FileSystemWatcher"><span class="nav-number">8.8.</span> <span class="nav-text">FileSystemWatcher</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#å‚è€ƒæ–‡ç« "><span class="nav-number">9.</span> <span class="nav-text">å‚è€ƒæ–‡ç« </span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liu Bin</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        
<div class="busuanzi-count">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      æœ¬ç«™è®¿å®¢æ•°
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      äººæ¬¡
    </span>
  

  
    <span class="site-pv">
      æœ¬ç«™æ€»è®¿é—®é‡
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      æ¬¡
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://orangeeeee.disqus.com/count.js" async></script>
    

    
      <script type="text/javascript">
        var disqus_config = function () {
          this.page.url = 'https://hellogithub2014.github.io/2019/06/09/vscode-plugin-development/';
          this.page.identifier = '2019/06/09/vscode-plugin-development/';
          this.page.title = 'vscodeæ’ä»¶å¼€å‘';
        };
        var d = document, s = d.createElement('script');
        s.src = 'https://orangeeeee.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      </script>
    

  




	





  














  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  

  

  
  

  

  

  

</body>
</html>
